"""
Project 1: Data Analysis - Penguins Dataset
Name: Julian Liao
Email: jullia@umich.edu
Course: SI 201
Collaborators: None
GenAI Use: Used ChatGPT to draft initial code, debug and explain concepts
"""
import csv

# Function 1: Read the CSV file

def read_penguin_data():
    """
    Reads the penguins.csv file and returns a list of dictionaries.
    Each dictionary represents a single penguin entry.
    """
    penguins = []
    with open("penguins.csv", "r", encoding="utf-8") as file:
        reader = csv.DictReader(file)
        for row in reader:
            penguins.append({
                "species": row["species"],
                "island": row["island"],
                "year": int(row["year"]) if row["year"].isdigit() else None
            })
    return penguins

# Function 2: Count penguins by species and island

def count_penguins_by_species_island(penguin_records):
    """
    Counts amount of penguins that belong to each species on each island.
    Returns a dictionary where keys are (species, island) pairs.
    """
    counts = {}
    for penguin in penguin_records:
        key = (penguin["species"], penguin["island"])
        counts[key] = counts.get(key, 0) + 1
    return counts

def penguin_trends_over_years(penguin_records):
    """
    Calculates how many penguins of each species are observed in each year.
    Returns a dictionary where keys are (species, year) pairs.
    """
    trends = {}
    for penguin in penguin_records:
        if penguin["year"] is not None:
            key = (penguin["species"], penguin["year"])
            trends[key] = trends.get(key, 0) + 1
    return trends