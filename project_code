"""
Project 1: Data Analysis - Penguins Dataset
Name: Julian Liao
Email: jullia@umich.edu
Course: SI 201
Collaborators: None
GenAI Use: Used ChatGPT to draft initial code, debug and explain concepts
"""
import csv

# Function 1: Read the CSV file

def read_penguin_data():
    "Reads the penguins.csv file and returns a list of dictionaries. Each dictionary represents a single penguin entry."
    penguins = []
    with open("penguins.csv", "r", encoding="utf-8") as file:
        reader = csv.DictReader(file)
        for row in reader:
            penguins.append({
                "species": row["species"],
                "island": row["island"],
                "year": int(row["year"]) if row["year"].isdigit() else None
            })
    return penguins

# Function 2: Count penguins by species and island

def count_penguins_by_species_island(penguin_records):
    "Counts amount of penguins that belong to each species on each island. Returns a dictionary where keys are (species, island) pairs."
    counts = {}
    for penguin in penguin_records:
        key = (penguin["species"], penguin["island"])
        counts[key] = counts.get(key, 0) + 1
    return counts

# Function 3: count penguins by species acorss the years
def penguin_trends_over_years(penguin_records):
    "Calculates how many penguins of each species are observed in each year. Returns a dictionary where keys are (species, year) pairs."
    trends = {}
    for penguin in penguin_records:
        if penguin["year"] is not None:
            key = (penguin["species"], penguin["year"])
            trends[key] = trends.get(key, 0) + 1
    return trends

# Function 4: Write results to a CSV 
def write_results(filename, results, column1, column2, column3):
    "Writes calculation results to a CSV file"
    file = open(filename, "w")
    file.write(column1 + "," + column2 + "," + column3 + "\n")
    for key, count in results.items():
        value1 = key[0]
        value2 = key[1]
        line = str(value1) + "," + str(value2) + "," + str(count) + "\n"
        file.write(line)
    file.close()
    print("file saved as", filename)

#main function
def main():